{"ast":null,"code":"var Shape = require('./shape');\n\nvar util = require('../util');\n\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Operation(name, operation, options) {\n  var self = this;\n  options = options || {};\n  property(this, 'name', operation.name || name);\n  property(this, 'api', options.api, false);\n  operation.http = operation.http || {};\n  property(this, 'endpoint', operation.endpoint);\n  property(this, 'httpMethod', operation.http.method || 'POST');\n  property(this, 'httpPath', operation.http.requestUri || '/');\n  property(this, 'authtype', operation.authtype || '');\n  property(this, 'endpointDiscoveryRequired', operation.endpointdiscovery ? operation.endpointdiscovery.required ? 'REQUIRED' : 'OPTIONAL' : 'NULL'); // httpChecksum replaces usage of httpChecksumRequired, but some APIs\n  // (s3control) still uses old trait.\n\n  var httpChecksumRequired = operation.httpChecksumRequired || operation.httpChecksum && operation.httpChecksum.requestChecksumRequired;\n  property(this, 'httpChecksumRequired', httpChecksumRequired, false);\n  memoizedProperty(this, 'input', function () {\n    if (!operation.input) {\n      return new Shape.create({\n        type: 'structure'\n      }, options);\n    }\n\n    return Shape.create(operation.input, options);\n  });\n  memoizedProperty(this, 'output', function () {\n    if (!operation.output) {\n      return new Shape.create({\n        type: 'structure'\n      }, options);\n    }\n\n    return Shape.create(operation.output, options);\n  });\n  memoizedProperty(this, 'errors', function () {\n    var list = [];\n    if (!operation.errors) return null;\n\n    for (var i = 0; i < operation.errors.length; i++) {\n      list.push(Shape.create(operation.errors[i], options));\n    }\n\n    return list;\n  });\n  memoizedProperty(this, 'paginator', function () {\n    return options.api.paginators[name];\n  });\n\n  if (options.documentation) {\n    property(this, 'documentation', operation.documentation);\n    property(this, 'documentationUrl', operation.documentationUrl);\n  } // idempotentMembers only tracks top-level input shapes\n\n\n  memoizedProperty(this, 'idempotentMembers', function () {\n    var idempotentMembers = [];\n    var input = self.input;\n    var members = input.members;\n\n    if (!input.members) {\n      return idempotentMembers;\n    }\n\n    for (var name in members) {\n      if (!members.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (members[name].isIdempotent === true) {\n        idempotentMembers.push(name);\n      }\n    }\n\n    return idempotentMembers;\n  });\n  memoizedProperty(this, 'hasEventOutput', function () {\n    var output = self.output;\n    return hasEventStream(output);\n  });\n}\n\nfunction hasEventStream(topLevelShape) {\n  var members = topLevelShape.members;\n  var payload = topLevelShape.payload;\n\n  if (!topLevelShape.members) {\n    return false;\n  }\n\n  if (payload) {\n    var payloadMember = members[payload];\n    return payloadMember.isEventStream;\n  } // check if any member is an event stream\n\n\n  for (var name in members) {\n    if (!members.hasOwnProperty(name)) {\n      if (members[name].isEventStream === true) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n/**\n * @api private\n */\n\n\nmodule.exports = Operation;","map":{"version":3,"sources":["/Users/kyeongsookim/Downloads/startupproject1/tierproject/admin/node_modules/aws-sdk/lib/model/operation.js"],"names":["Shape","require","util","property","memoizedProperty","Operation","name","operation","options","self","api","http","endpoint","method","requestUri","authtype","endpointdiscovery","required","httpChecksumRequired","httpChecksum","requestChecksumRequired","input","create","type","output","list","errors","i","length","push","paginators","documentation","documentationUrl","idempotentMembers","members","hasOwnProperty","isIdempotent","hasEventStream","topLevelShape","payload","payloadMember","isEventStream","module","exports"],"mappings":"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","sourcesContent":["var Shape = require('./shape');\n\nvar util = require('../util');\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Operation(name, operation, options) {\n  var self = this;\n  options = options || {};\n\n  property(this, 'name', operation.name || name);\n  property(this, 'api', options.api, false);\n\n  operation.http = operation.http || {};\n  property(this, 'endpoint', operation.endpoint);\n  property(this, 'httpMethod', operation.http.method || 'POST');\n  property(this, 'httpPath', operation.http.requestUri || '/');\n  property(this, 'authtype', operation.authtype || '');\n  property(\n    this,\n    'endpointDiscoveryRequired',\n    operation.endpointdiscovery ?\n      (operation.endpointdiscovery.required ? 'REQUIRED' : 'OPTIONAL') :\n    'NULL'\n  );\n\n  // httpChecksum replaces usage of httpChecksumRequired, but some APIs\n  // (s3control) still uses old trait.\n  var httpChecksumRequired = operation.httpChecksumRequired\n    || (operation.httpChecksum && operation.httpChecksum.requestChecksumRequired);\n  property(this, 'httpChecksumRequired', httpChecksumRequired, false);\n\n  memoizedProperty(this, 'input', function() {\n    if (!operation.input) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.input, options);\n  });\n\n  memoizedProperty(this, 'output', function() {\n    if (!operation.output) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.output, options);\n  });\n\n  memoizedProperty(this, 'errors', function() {\n    var list = [];\n    if (!operation.errors) return null;\n\n    for (var i = 0; i < operation.errors.length; i++) {\n      list.push(Shape.create(operation.errors[i], options));\n    }\n\n    return list;\n  });\n\n  memoizedProperty(this, 'paginator', function() {\n    return options.api.paginators[name];\n  });\n\n  if (options.documentation) {\n    property(this, 'documentation', operation.documentation);\n    property(this, 'documentationUrl', operation.documentationUrl);\n  }\n\n  // idempotentMembers only tracks top-level input shapes\n  memoizedProperty(this, 'idempotentMembers', function() {\n    var idempotentMembers = [];\n    var input = self.input;\n    var members = input.members;\n    if (!input.members) {\n      return idempotentMembers;\n    }\n    for (var name in members) {\n      if (!members.hasOwnProperty(name)) {\n        continue;\n      }\n      if (members[name].isIdempotent === true) {\n        idempotentMembers.push(name);\n      }\n    }\n    return idempotentMembers;\n  });\n\n  memoizedProperty(this, 'hasEventOutput', function() {\n    var output = self.output;\n    return hasEventStream(output);\n  });\n}\n\nfunction hasEventStream(topLevelShape) {\n  var members = topLevelShape.members;\n  var payload = topLevelShape.payload;\n\n  if (!topLevelShape.members) {\n    return false;\n  }\n\n  if (payload) {\n    var payloadMember = members[payload];\n    return payloadMember.isEventStream;\n  }\n\n  // check if any member is an event stream\n  for (var name in members) {\n    if (!members.hasOwnProperty(name)) {\n      if (members[name].isEventStream === true) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * @api private\n */\nmodule.exports = Operation;\n"]},"metadata":{},"sourceType":"script"}